/*! jQuery responsive breadcrumbs plugin - v1.1.0 | https://github.com/cm0s/jquery-rcrumbs | (c) 2017 Nicolas Forney | License MIT */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.$element=a(b),this.options=a.extend(!0,{},g,c),this._defaults=g,this._name=f,e.prototype.plugin=this,this._init()}var f="rcrumbs",g={version:"1.1.0",callback:{preCrumbsListDisplay:a.noop,preCrumbDisplay:a.noop,postCrumbsListDisplay:a.noop,postCrumbDisplay:a.noop},ellipsis:!0,windowResize:!0,nbUncollapsableCrumbs:2,nbFixedCrumbs:0,animation:{activated:!0,speed:400},moreTemplate:'<li class="hide dropdown rc-more-items"><a data-toggle="dropdown">...</a><ul class="dropdown-menu"></div></li>',dropdownItemPaddingLeft:10};e.prototype={version:function(){return this.options.version},_init:function(){var b=this;if(this.nbCrumbDisplayed=0,this.$crumbsList=this.element,this.$crumbs=a("li",this.$crumbsList),this.$lastCrumb=this.$crumbs.last(),this.$firstCrumb=this.$crumbs.first(),this.lastNbCrumbDisplayed=0,this.totalCrumbsWidth=0,this.fixedCrumbsWidth=0,this.$frontEllipsis=a(this.options.moreTemplate).insertAfter(this.$firstCrumb),this.$dropdownMenu=this.$frontEllipsis.children(".dropdown-menu"),a(".rc-more-items",this.$crumbsList).on("show.bs.dropdown",function(){b._createDropdownItems()}).on("hide.bs.dropdown",function(){b.$dropdownMenu.empty()}),this.$crumbs=a("li",this.$crumbsList),this.reversedCrumbs=a("li",this.$crumbsList).get().reverse(),this._initCrumbs(),this.options.nbFixedCrumbs>0){var c=this.$crumbs.length;this.$crumbs=a("li",this.$crumbsList).slice(this.options.nbFixedCrumbs,c),this.reversedCrumbs=a("li",this.$crumbsList).slice(this.options.nbFixedCrumbs,c).get().reverse(),a("li",this.$crumbsList).slice(0,this.options.nbFixedCrumbs).each(function(c,d){b.totalCrumbsWidth+=a(d).data("width"),a(d).removeClass("hide")})}this._showOrHideCrumbsList(!0),this.options.windowResize&&this._showOrHideCrumbsListOnWindowResize()},_getHiddenElWidth:function(b){var c,d=a(b).clone(!1);d.css({visibility:"hidden",position:"absolute"});var e=a("li").index(b);return e?d.appendTo(this.$crumbsList):d.insertBefore(this.$crumbsList),c=d.width(),d.remove(),c+5},_initCrumbs:function(){var b=this;a(this.$crumbsList).contents().filter(function(){return 3===this.nodeType}).remove(),a.each(this.$crumbs,function(c,d){var e=a(this);b._storeCrumbWidth(e)}),this.options.nbFixedCrumbs>0&&a(this.$crumbs).slice(0,this.options.nbFixedCrumbs).each(function(c,d){b.fixedCrumbsWidth+=a(d).data("width")})},_storeCrumbWidth:function(a){var b=this._getHiddenElWidth(a);return a.data("width",b),b},_showOrHideCrumbsList:function(b){var c=this;this.remainingSpaceToDisplayCrumbs=this.$element.width(),this.nbCrumbDisplayed=0,this.totalCrumbsWidth=0,this.options.nbFixedCrumbs>0&&(this.remainingSpaceToDisplayCrumbs-=this.fixedCrumbsWidth,a("li",this.$crumbsList).slice(0,this.options.nbFixedCrumbs).each(function(b,d){c.totalCrumbsWidth+=a(d).data("width")})),this.nextCrumbToShowWidth=d,this.options.callback.preCrumbsListDisplay(this),a.each(this.reversedCrumbs,function(d,e){var f=a(this),g=a(c.reversedCrumbs[d+1]);c._showOrHideCrumb(f,g,d,b)}),this.lastNbCrumbDisplayed=this.nbCrumbDisplayed;var e=a("li.hide",this.$crumbsList).length;e?this.$frontEllipsis.removeClass("hide"):this.$frontEllipsis.addClass("hide"),this.options.callback.postCrumbsListDisplay(this)},_createDropdownItems:function(){var b=this,c=0,d=a("li.hide:not(.more-items)",this.$crumbsList);d.each(function(d,e){c+=b.options.dropdownItemPaddingLeft,a(e).clone(!1).css({"padding-left":c+"px"}).appendTo(b.$dropdownMenu).removeClass("hide")})},_showOrHideCrumb:function(a,b,c,d){function e(){a.removeClass("hide"),h.lastNbCrumbDisplayed<h.nbCrumbDisplayed+1&&h.options.animation.activated&&!d?(a.width(0),a.animate({width:a.data("width")},h.options.animation.speed,function(){h.options.callback.postCrumbDisplay(a)})):h.options.callback.postCrumbDisplay(a),h.nbCrumbDisplayed+=1}function f(){a.animate({width:0},h.options.animation.speed,function(){a.addClass("hide").css({width:"auto"})})}function g(a){a.css({width:h.remainingSpaceToDisplayCrumbs+a.data("width")+"px"}),a.addClass("ellipsis")}this.options.callback.preCrumbDisplay(a);var h=this;this.remainingSpaceToDisplayCrumbs-=a.data("width"),c<this.options.nbUncollapsableCrumbs?(e(),this.remainingSpaceToDisplayCrumbs<0&&g(this.$lastCrumb),this.totalCrumbsWidth+=a.data("width")):this.remainingSpaceToDisplayCrumbs>=0?(e(),this.totalCrumbsWidth+=a.data("width")):(this.lastNbCrumbDisplayed>this.nbCrumbDisplayed-1&&this.options.animation.activated?f():a.addClass("hide"),this.nextCrumbToShowWidth||(this.nextCrumbToShowWidth=a.data("width")))},_showOrHideCrumbsListOnWindowResize:function(){var d=this,e=null,f=function(){null===e&&(e=b.requestAnimationFrame(function(){var b=d.$element.width();(b<d.totalCrumbsWidth||d.totalCrumbsWidth+d.nextCrumbToShowWidth<b)&&(a.each(d.reversedCrumbs,function(b,c){var d=a(this);d.stop(!0,!0)}),d._showOrHideCrumbsList()),b>=d.totalCrumbsWidth&&d.$lastCrumb.hasClass("ellipsis")&&d._disableEllipsis(d.$lastCrumb),a(c).trigger("click"),e=null}))};a(b).resize(f)},_disableEllipsis:function(a){a.css({width:"auto"}),a.removeClass("ellipsis")}},a.fn[f]=function(b){if(e.prototype[b]&&-1===b.indexOf("_")){var c=a.data(this[0],"plugin_"+f);if(c)return e.prototype[b].apply(c,Array.prototype.slice.call(arguments,1));a.error("jquery."+f+" plugin must be initialized first on the element")}else{if("object"==typeof b||!b)return this.each(function(){a.data(this,"plugin_"+f)?a.error("jquery."+f+" plugin cannot be instantiated multiple times on same element"):a.data(this,"plugin_"+f,new e(this,b))});a.error("Method "+b+" does not exist on jquery."+f)}}}(jQuery,window,document);